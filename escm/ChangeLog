2003-06-29  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* doc/gimmick.escm, doc/interpreter.escm: Updated.
	* src/fork.c, src/filter.c: Check the exit status of the child
	process.
	
2003-06-28  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/escm.c, src/filter.c, src/lang/scm, doc/filter.escm: Change
	the conversion rule of variable names.
	* acinclude.m4, src/filter.c, src/fork.c: The command line of the
	default interpreter is tokenized in configure.
	* src/escm.c, src/Makefile.am: bugfixes.
	* doc/Makefile.am, doc/aescm.epod: Rewrite part of documentation
	in POD format.
	* doc/filter.escm, doc/handler.escm, doc/library.escm: Removed.
	
2003-06-26  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/meta_arg.c: Change interface.
	* src/cgi.c: Fix the content header.
	* src/fork.c: Added to replace popen and pclose to handle the error
	which occurs when the backend interpreter is not found.
	* src/escm.c: bind more environment variables.
	
2003-06-24  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* configure.ac, src/Makefile.am: do not use libtool.
	
2003-06-23  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* version 0.18
	
2003-06-22  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/escm.c: Bind environment variables to Scheme variables.
	* doc/*.escm: Update documents.

2003-06-21  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/meta_arg.c: Removed code for debugging which I forgot
	  to erase.
	* src/lang.c, src/escm.c, src/escm.h: Add true field to struct
	  escm_lang.
	* src/handler.c: Removed. Merged to src/filter.c.
	
2003-06-20  TAGA Yoshitaka  <tagga@tsuda.ac.jp>
	* src/filter.c, src/handler.c: ad hoc mechanism to acquire POSTed
	  query strings (bound to *escm-cgi-post*)

2003-06-19  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/handler.c: bugfix.
	
2003-06-17  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.17
	* src/lang.c: make a bit secure.
	* doc/gimmick.escm, doc/readme.escm: update.
	
2003-06-13  TAGA Yoshitaka  <tagga@tsuda.ac.jp>
	
	* src/escm.c, src/escm.h: changed the interface of escm_error().
	* src/meta_arg.c: rewrite the parser of meta-arguments.
	* src/lang.c: rewrite the parser of configuration files.
	* src/escm_scm.c, src/escm_scm.h: absorbed in src/escm.[ch].
	* test/t130_preset.test, test/t140_prst_awk.test,
	  test/t150_comment.test: add more tests.

2003-06-10  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* Remove src/escm/* which have been moved to src/.
	* configure.ac, src/Makefile.am, and others: libtoolized.
	* src/filter.c, src/lang.c: fix bugs on getting the interpreter
	  name from config files.
	* test/t110_string.test, test/t120_awk.test: add more tests.
	
2003-06-09  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.16
	* Too many changes while my notebook was disconnected from the Net.
	
2002-12-25  Shiro Kawai  <shiro@acm.org>

	* all files: checked in to the SourceForge repository.

2002-12-26  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.15

	* src/Makefile.am, src/escm/escm.c, src/escm/escm.h, src/main.c,
	awk/Makefile, configure.ac: Add the metaswitch mechanism.

2002-12-23  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.14

	* scm/gosh.sh, scm/guile.sh, scm/rep.sh, scm/stklos.sh,
	Makefile.am, configure.ac: Rename cfg/ to scm/.

	* awk/make-lang-c.awk, awk/parse.awk: Rename parse.awk to
	make-lang-c.awk.

	* awk/Makefile, awk/addlang-am.awk, awk/addlang.awk,
	awk/configure-ac.awk, awk/make-lang-c.awk, configure.ac,
	doc/Makefile.am, src/Makefile.am, src/addlang.h, src/main.c,
	Makefile.am: New scheme to add language supports

	* *** version 0.13 ***

	* awk/parse.awk, src/lang/Makefile.am, src/lang/awk.c,
	src/lang/csh.c, src/lang/perl.c, src/lang/python.c,
	src/lang/ruby.c, src/lang/scm.c, src/lang/sh.c, src/lang/tcl.c,
	data/awk, data/csh, data/perl, data/ruby, data/scm, data/sh,
	data/tcl, src/lang/Lang.c, awk/parse.awk: Generate LANG.c from data

	* src/lang/addlang.h, src/lang/awk.c, src/lang/csh.c,
	src/lang/perl.c, src/lang/python.c, src/lang/ruby.c,
	src/lang/scm.c, src/lang/sh.c, src/lang/tcl.c, awk/config-h.awk,
	configure.ac, src/escm/escm.c, src/escm/escm.h,
	src/lang/Makefile.am: struct escm_lang changed.

2002-12-21  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* awk/Makefile, awk/adddoc.awk, awk/config-h.awk: Auxiliary Awk
	scripts.

	* src/lang/addlang.h: Generated by addlang.awk.

	* src/Makefile.am, src/copyright.awk: Move copyright.awk to awk
	directory.

	* src/copyright.h: Generated by copyright.awk from AUTHORS and COPYING.

	* *** vesion 0.12 ***

	* awk/Makefile, awk/addlang-am.awk, awk/addlang.awk,
	awk/configure-ac.awk, awk/copyright.awk, awk/funclen.awk:
	Auxiliary Awk scripts.

2002-12-19  TAGA Yoshitaka  <tagga@tsuda.ac.jp>
	* *** version 0.11 ***

	* src/lang/ruby.c, src/lang/scm.c, src/lang/sh.c, src/lang/tcl.c,
	src/parse/Makefile.am, src/parse/parse.c, src/parse/parse.h,
	src/escm/Makefile.am, src/escm/escm.c, src/escm/escm.h,
	src/escm/fork.c, src/fork.c, src/lang/Lang.c,
	src/lang/Makefile.am, src/lang/awk.c, src/lang/csh.c,
	src/lang/lang.h, src/lang/perl.c, src/main.c, src/parse.c,
	src/parse.h, src/xmlpi.c, src/xmlpi.h, Makefile.am, configure.ac,
	src/Makefile.am: Totally rewritten and replaced.

	* *** version 0.10 ***

	* src/main.c, src/scm.c, src/sh.c, src/Makefile.am, src/awk.c,
	src/brl.c: Version before renaming xmlpi_foo to escm_foo.

	* cfg/rep.sh: Support rep.

	* Makefile.am: Make `make distcheck' a bit happier.

	
	* *** version 0.09 ***

	* cfg/rep.sh: Support rep.

	* Makefile.am: Make `make distcheck' a bit happier.

	* src/Makefile.am, src/escm.h, src/main.c, src/scm.c: Remove escm.h.

2002-12-18  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/Makefile.am, src/main.c, src/sh.c, configure.ac: Add filter
	sh.

	* src/Makefile.am, src/brl.c, src/escm.c, src/escm.h, src/scm.c:
	Rename escm.c to scm.c not to confuse it with the original.

	* src/xmlpi.c: Output a newline when quitting code part.

	* src/xmlpi.c: Can use "?>" in strings.

2002-12-17  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.08 ***

	* src/Makefile.am, src/awk.c, src/main.c, src/xmlpi.c,
	configure.ac: Add filter awk for debugging.

	* src/Makefile.am, src/brl.c, src/cgi.c, src/escm.c, src/escm.h,
	src/fork.c, src/main.c, src/xmlpi.c, src/xmlpi.h, configure.ac:
	Move the latter half of main.c to xmlpi.c.

	* src/main.c, src/xmlpi.c, src/xmlpi.h, src/Makefile.am,
	src/brl.c, src/classic.c, src/escm.c, src/escm.h, src/fork.c,
	src/helper.c: Most functions named escm_* are renamed to xmlpi_*
	and moved to xmlpi.c.

2002-12-16  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* *** version 0.07 ***

	* src/Makefile.am, src/brl.c, cfg/gosh.sh, cfg/guile.sh,
	cfg/stklos.sh, Makefile.am, configure.ac: Try to fix BRL module
	but not fixed completely.

	* src/Makefile.am, src/brl.c, src/cgi.c, src/classic.c,
	src/escm.c, src/escm.h, src/helper.c, src/main.c, src/xmlpi.c:
	Change internal structures.

2002-12-15  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/parse.c, src/parse.h: Wrap the error function.

	* src/cgi.c, src/cgi.h, src/helper.c:
	Move some code to main.c and rename helper.c to cgi.c.

	* src/Makefile.am, src/brl.c, src/filter.c, src/fork.c,
	src/helper.c, src/main.c, src/parse.c, configure.ac: Move config.h
	in src directory.

	* *** version 0.06 ***
	
	* src/main.c:
	Print the HTML content header by default if in a CGI script.

2002-12-14  TAGA Yoshitaka  <tagga@tsuda.ac.jp>
	* *** version 0.05 ***

	* src/Makefile.am, src/aescm.h, src/brl.c, src/filter.c, src/main.c:
	Experimental support of BRL.

	* *** version 0.04 ***

	* src/filter.c: Divided escm_filter() into several functions.

	* doc/Makefile.am, doc/aescm.1, doc/aescm.pod: Create the man page
	from aescm.pod.

	* src/main.c: Added a scheme variable *escm-terminator*.

	* src/aescm.h, src/filter.c, src/main.c: Move some code to filter.c.

2002-12-13  TAGA Yoshitaka  <tagga@tsuda.ac.jp>
	* *** version 0.03 ***

	* doc/aescm.1, doc/aescm.pod:
	Adapt escm's man page (but use aescm.pod to edit).

	* src/parse.c, src/parse.h, tokenize.sed:
	The command line is parsed at execution and not at configuration.

	* Makefile.am, configure.ac, cfg/guile.sh, cfg/stklos.sh: Move
	interpreter dependent part from configure.ac to separate files.

	* src/filter.c: Fix bugs on #! line.

2002-12-12  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/fork.c, src/helper.c, src/main.c:
	Remove escm_cgi_p and added is_cgi().

	* src/error.c, src/helper.c, src/main.c: Move some code from
	main.c to error.c and rename error.c to helper.c again.

	* tokenize.sed, src/fork.c, src/popen.c: Use `pipe', `fork' and
	`execv' instead of `popen'.

	* src/aescm.h, src/filter.c, src/main.c: Remove escm_compatible_p
	and introduce escm_mode_t.

2002-12-11  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/main.c: Print the header if -Ec.

	* configure.ac: Fix option argumens for stklos and guile.

	* src/filter.c: Change macros.

	* src/main.c: Add -E option again.

	* *** Alpha release of aescm 0.01 ***

	* src/filter.c: Fix bugs on #!.

	* src/filter.c, src/main.c: Process #! line in escm_filter().

	* src/Makefile.am, configure.ac, src/aescm.h, src/popen.c,
	src/gauche.c, src/fork.c: Give up using libSCM's.

2002-12-09  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* configure.ac: Introduce --with-escm-backend=BACKEND and
	--with-escm-type=TYPE.

	* src/gauche.c: Remove Scm_Exit(0).

	* src/main.c: Skip the first #! line.

	* src/aescm.h, src/error.c, src/filter.c, src/fork.c,
	src/gauche.c, src/main.c, src/popen.c: Introduce PIPE_T.

2002-12-08  TAGA Yoshitaka  <tagga@tsuda.ac.jp>	

	* src/aescm.h, src/fork.c, src/gauche.c, src/popen.c: fork.c uses
	libgauche.so via gauche.c.

	* src/aescm.h, src/error.c, src/fork.c, src/helper.c, src/main.c,
	src/popen.c: Rename helper.c to error.c and move some code to
	main.c.

	* src/filter.c, src/helper.c, src/main.c: Remove -E option (use
	-DFILTER_DEBUG when compile).

	* src/pipe.c, src/popen.c: Rename src/pipe.c to src/popen.c.

2002-12-07  TAGA Yoshitaka  <tagga@tsuda.ac.jp>

	* src/exec.c, src/fork.c: Rename src/exec.c to src/fork.c.

	* src/exec.c, src/helper.c, src/main.c, src/pipe.c: A version
	using `pipe', `fork' and `execl' works somehow.

	* src/aescm.h, src/filter.c, src/helper.c, src/main.c, src/pipe.c:
	A version using `popen' works somehow.

--- ChangeLog of escm 1.1 --------------------------------------
	
2001-04-06  Shiro Kawai  <shiro@scherzo>

	* release 1.1
	* escm.1: manpage contributed by HATTA Shuzo (hattas@debian.org)
	* escm.c: applied patch from HATTA Shuzo (hattas@debian.org) to allow
	  to pass extra command-line options to the Scheme interpreter
	  in #? line.

2001-04-04  Shiro Kawai  <shiro@scherzo>

	* release 1.0
	* COPYING, escm.c: clearify distribution condition.

2000-06-30  Shiro Kawai  <shiro@scherzo>

	* escm.c: Added -e option.
	* escm.esc: Added description of -e and -c options.  Fix some typos.

2000-02-22  Shiro Kawai  <shiro@scherzo>

	* escm.esc: The version extracting regexp was incorrect.

	* Makefile.in: Made some rules to explicit for non-gmake to work.

2000-02-21  Shiro Kawai  <shiro@scherzo>

	* escm.esc: Finished the minimal documentation.  Wrapping up
	  the version 0.1.

2000-02-20  Shiro Kawai  <shiro@scherzo>

	* escm.c (get_interpreter_name): Allow to read the interpreter
	  name from the input file, if the first line of input file
	  begins with #?. (In case that the first line is #!, the next
	  line is used).

2000-02-19  Shiro Kawai  <shiro@scherzo>

	* first alpha release
